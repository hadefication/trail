!function(e){var r={};function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/",t(t.s=2)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}();var i=function(){function e(r,t,n){if(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),"undefined"==typeof Trail)throw new Error("Trail is required");if(void 0===r)throw new Error("Too few arguments to function route(), 0 passed.");if(this.name=r,this.params="boolean"==typeof t?null:t,this.absolute="boolean"==typeof t?t:n,this.Trail=Trail,void 0===this.getRouteDetails())throw new Error("Route ["+this.name+"] not defined")}return n(e,[{key:"getRouteDetails",value:function(){var e=this;return this.Trail.routes.find(function(r){return r.name===e.name})}},{key:"normalizeParams",value:function(){return"boolean"==typeof this.params||void 0===this.params||null===this.params?[]:Object.keys(this.params)}},{key:"resolveQueryStrings",value:function(e,r){var t=this,n=r.map(function(e){return e.key}),i=this.normalizeParams().filter(function(e){return 0==n.includes(e)}),a=i.map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t.params[e])}).join("&");return i.length>0?[e,a].join("?"):e}},{key:"parse",value:function(e){var r=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],i=e.match(/{([^}]+)}/gi),a=this.normalizeParams();return null!==i&&(i.forEach(function(e){var r=e.slice(1,-1);n.push({raw:e,key:r.replace(/\?$/,""),required:null===r.match(/\?$/)})}),this.validateParams(n),n.forEach(function(t){var n=t.raw,i=t.key;if(t.required)e=e.replace(n,r.params[i]);else{e.match(/{([^}]+)\?}/gi);var o=a.includes(i);e=e.replace(n,o?r.params[i]:"")}})),!1===t&&(e=this.resolveQueryStrings(e,n)),this.removeLeadingSlash(e)}},{key:"validateParams",value:function(e){var r=this.getRouteDetails().uri,t=this.normalizeParams();if(e.filter(function(e){return 1==e.required}).map(function(e){return e.key}).length>0&&0==t.length)throw new Error("Missing required parameters for [Route: "+this.name+"] [URI: "+r+"]")}},{key:"removeTrailingSlash",value:function(e){return e.replace(/\/$/,"")}},{key:"removeLeadingSlash",value:function(e){return e.replace(/^\//,"")}},{key:"url",value:function(){var e=this.getRouteDetails(),r=e.uri,t=e.domain,n=this.Trail,i=n.scheme,a=n.domain,o=(n.port,[i,null==t?a:t].join("://")),u=this.parse("/"==r?o:[o,r].join("/"));return!1===this.absolute?(u=u.replace(this.parse(o,!0),""),0==u.length?"/":u):this.removeTrailingSlash(u)}}]),e}();r.route=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new i(e,r,t).url()}},,function(e,r,t){e.exports=t(3)},function(e,r,t){"use strict";var n=t(0);window.route=n.route}]);