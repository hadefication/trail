!function(e){var r={};function n(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="/",n(n.s=1)}([function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}();var i=function(){function e(r,n,t){if(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),"undefined"==typeof Trail)throw new Error("Trail is required");if(void 0===r)throw new Error("Too few arguments to function route(), 0 passed.");if(this.name=r,this.params="boolean"==typeof n?null:n,this.absolute="boolean"==typeof n?n:t,this.Trail=Trail,void 0===this.getRouteDetails())throw new Error("Route ["+this.name+"] not defined")}return t(e,[{key:"getRouteDetails",value:function(){var e=this;return this.Trail.routes.find(function(r){return r.name===e.name})}},{key:"normalizeParams",value:function(){return"boolean"==typeof this.params||void 0===this.params||null===this.params?[]:Object.keys(this.params)}},{key:"resolveQueryStrings",value:function(e,r){var n=this,t=r.map(function(e){return e.key}),i=this.normalizeParams().filter(function(e){return 0==t.includes(e)}),a=i.map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n.params[e])}).join("&");return i.length>0?[e,a].join("?"):e}},{key:"parse",value:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=[],i=e.match(/{([^}]+)}/gi),a=this.normalizeParams();return null!==i&&(i.forEach(function(e){var r=e.slice(1,-1);t.push({raw:e,key:r.replace(/\?$/,""),required:null===r.match(/\?$/)})}),this.validateParams(t),t.forEach(function(n){var t=n.raw,i=n.key;if(n.required)e=e.replace(t,r.params[i]);else{e.match(/{([^}]+)\?}/gi);var o=a.includes(i);e=e.replace(t,o?r.params[i]:"")}})),!1===n&&(e=this.resolveQueryStrings(e,t)),this.removeLeadingSlash(e)}},{key:"validateParams",value:function(e){var r=this.getRouteDetails().uri,n=this.normalizeParams();if(e.filter(function(e){return 1==e.required}).map(function(e){return e.key}).length>0&&0==n.length)throw new Error("Missing required parameters for [Route: "+this.name+"] [URI: "+r+"]")}},{key:"removeTrailingSlash",value:function(e){return e.replace(/\/$/,"")}},{key:"removeLeadingSlash",value:function(e){return e.replace(/^\//,"")}},{key:"url",value:function(){var e=this.getRouteDetails(),r=e.uri,n=e.domain,t=this.Trail,i=t.scheme,a=t.domain,o=(t.port,[i,null==n?a:n].join("://")),u=this.parse("/"==r?o:[o,r].join("/"));return!1===this.absolute?(u=u.replace(this.parse(o,!0),""),0==u.length?"/":u):this.removeTrailingSlash(u)}}]),e}();r.route=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new i(e,r,n).url()}},function(e,r,n){e.exports=n(0)}]);